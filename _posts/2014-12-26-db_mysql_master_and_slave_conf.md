---
layout: post
title: "mysql 主从库配置"
categories: 数据库
tags: [mysql, 主从复制,　mysql集群]
date: 2014-12-26 16:45:17
---

<span style="font-size: 14pt; line-height: 15px;">MySQL从库上有一个IO线程负责从主库取binlog到写到本地。另外有一个SQL线程负责执行这些本地日志，实现命令重放；</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">一、环境</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;">主机：</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;"> master</span><span style="line-height: normal; font-size: 14pt;">操作系统：</span><span style="line-height: normal; font-size: 14pt;">centos 5.3</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;"> IP</span><span style="line-height: normal; font-size: 14pt;">：</span><span style="line-height: normal; font-size: 14pt;">192.168.1.222</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;"> MySQL</span><span style="line-height: normal; font-size: 14pt;">版本：</span><span style="line-height: normal; font-size: 14pt;">5.0.77</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;"> 从机：&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt; text-indent: 42pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">slave</span><span style="line-height: normal; font-size: 14pt;">操作系统：</span><span style="line-height: normal; font-size: 14pt;">centos 5.3</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> &nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">IP</span><span style="line-height: normal; font-size: 14pt;">：</span><span style="line-height: normal; font-size: 14pt;">192.168.1.220</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> &nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;"> MySQL</span><span style="line-height: normal; font-size: 14pt;">版本：</span><span style="line-height: normal; font-size: 14pt;">5.0.77</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">二、创建数据库</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">分别登录</span><span style="line-height: normal; font-size: 14pt;">master</span><span style="line-height: normal; font-size: 14pt;">机和</span><span style="line-height: normal; font-size: 14pt;">slave</span><span style="line-height: normal; font-size: 14pt;">机的</span><span style="line-height: normal; font-size: 14pt;">mysql</span><span style="line-height: normal; font-size: 14pt;">：</span><span style="line-height: normal; font-size: 14pt;">mysql –u root –p</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">创建数据库：</span><span style="line-height: normal; font-size: 14pt;">create database repl;</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">三、</span><span style="line-height: normal; font-size: 14pt;">master</span><span style="line-height: normal; font-size: 14pt;">机和</span><span style="line-height: normal; font-size: 14pt;">slave</span><span style="line-height: normal; font-size: 14pt;">机的相关配置</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">1</span><span style="line-height: normal; font-size: 14pt;">、修改</span><span style="line-height: normal; font-size: 14pt;">master</span><span style="line-height: normal; font-size: 14pt;">机器中</span><span style="line-height: normal; font-size: 14pt;">mysql</span><span style="line-height: normal; font-size: 14pt;">配置文件</span><span style="line-height: normal; font-size: 14pt;">my.cnf</span><span style="line-height: normal; font-size: 14pt;">，该文件在</span><span style="line-height: normal; font-size: 14pt;">/etc</span><span style="line-height: normal; font-size: 14pt;">目录下</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">在</span><span style="line-height: normal; font-size: 14pt;">[mysqld]</span><span style="line-height: normal; font-size: 14pt;">配置段添加如下字段</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">server-id=1</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">log-bin=log</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">binlog-do-db=repl<span style="line-height: normal;">&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">//</span><span style="line-height: normal; font-size: 14pt;">需要同步的数据库，如果没有本行，即表示同步所有的数据库</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">binlog-ignore-db=mysql<span style="line-height: normal;">&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">//</span><span style="line-height: normal; font-size: 14pt;">被忽略的数据库</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">在</span><span style="line-height: normal; font-size: 14pt;">master</span><span style="line-height: normal; font-size: 14pt;">机上为</span><span style="line-height: normal; font-size: 14pt;">slave</span><span style="line-height: normal; font-size: 14pt;">机添加一同步帐号</span><span style="line-height: normal;"><br style="line-height: normal;"></span><span style="line-height: normal; font-size: 14pt;"> grant replication slave on *.* to 'repl'@'192.1681.220' identified by '123456';</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">重启</span><span style="line-height: normal; font-size: 14pt;">master</span><span style="line-height: normal; font-size: 14pt;">机的</span><span style="line-height: normal; font-size: 14pt;">mysql</span><span style="line-height: normal; font-size: 14pt;">服务：</span><span style="line-height: normal; font-size: 14pt;">service mysqld restart</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">用</span><span style="line-height: normal; font-size: 14pt;">show master status&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;">命令看日志情况</span></p> <p style="font-family: Georgia; font-size: 10px; line-height: normal; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">mysql&gt;show master status;</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal; font-size: 14pt;">+-----------------+------------+-------------------+-----------------------+</span></span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">| File<span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> &nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">| Position&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;"> | Binlog_Do_DB&nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;"> | Binlog_Ignore_DB |</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">+-----------------+------------+-------------------+-----------------------+</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">|<span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">log.000003 |&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;"> 98<span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">| repl&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;"> | mysql&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> &nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;"> |</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">+-----------------+------------+-------------------+-----------------------+</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"><span style="font-size: 14pt;"> 1 row in set (0.00 sec)</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">2</span><span style="line-height: normal; font-size: 14pt;">、修改</span><span style="line-height: normal; font-size: 14pt;">slave</span><span style="line-height: normal; font-size: 14pt;">机中</span><span style="line-height: normal; font-size: 14pt;">mysql</span><span style="line-height: normal; font-size: 14pt;">配置文件</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">同样在</span><span style="line-height: normal; font-size: 14pt;">[mysqld]</span><span style="line-height: normal; font-size: 14pt;">字段下添加如下内容</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">server-id=2</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">master-host=192.168.1.222</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">master-user=repl</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">master-password=123456</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">master-port=3306</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">master-connect-retry=60</span><span style="line-height: normal;"><br style="line-height: normal;"></span><span style="line-height: normal; font-size: 14pt;"> # replicate-ignore-db=mysql 忽略的数据库<br style="line-height: normal;"></span><span style="line-height: normal; font-size: 14pt;"> # master-connect-retry=60 如果从服务器发现主服务器断掉，重新连接的时间差(秒)</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">#replicate-do-db=repl<span style="line-height: normal;">&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">//</span><span style="line-height: normal; font-size: 14pt;">同步的数据库(需要备份的数据库名)，不写本行</span>&nbsp;<wbr><span style="line-height: normal; font-size: 14pt;">表示</span>&nbsp;<wbr><span style="line-height: normal; font-size: 14pt;">同步所有数据库</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">然后重启</span><span style="line-height: normal; font-size: 14pt;">slave</span><span style="line-height: normal; font-size: 14pt;">机的</span><span style="line-height: normal; font-size: 14pt;">mysql</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">在</span><span style="line-height: normal; font-size: 14pt;">slave</span><span style="line-height: normal; font-size: 14pt;">机中进入</span><span style="line-height: normal; font-size: 14pt;">mysql</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">mysql&gt;start slave;</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">mysql&gt;show slave status\G;<br style="line-height: normal;"></span><span style="line-height: normal; font-size: 14pt;">如果</span><span style="line-height: normal; font-size: 14pt;">Slave_IO_Running</span><span style="line-height: normal; font-size: 14pt;">、</span><span style="line-height: normal; font-size: 14pt;">Slave_SQL_Running</span><span style="line-height: normal; font-size: 14pt;">状态为</span><span style="line-height: normal; font-size: 14pt;">Yes</span><span style="line-height: normal; font-size: 14pt;">则表明设置成功。</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">四、出现的问题</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">当我在执行</span><span style="line-height: normal; font-size: 14pt;">start slave</span><span style="line-height: normal; font-size: 14pt;">这条命令时，系统提示</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">ERROR 1200 (HY000): The server is not configured as slave; fix in config file or with CHANGE MASTER TO</span><span style="line-height: normal; font-size: 14pt;">，</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">执行</span><span style="line-height: normal; font-size: 14pt;">show slave status;</span><span style="line-height: normal; font-size: 14pt;">又提示</span><span style="line-height: normal; font-size: 14pt;">Empty set (0.00 sec)</span><span style="line-height: normal; font-size: 14pt;">，想不通问题在哪里</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">后来发现，原来</span><span style="line-height: normal; font-size: 14pt;">slave</span><span style="line-height: normal; font-size: 14pt;">已经默认开启，要先关闭再开启</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">执行</span><span style="line-height: normal;">&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;">slave stop;</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">再执行</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">change master to master_host='192.168.1.222',master_user='repl',master_password='123456', master_log_file='log.000003' ,master_log_pos=98;</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">然后执行</span><span style="line-height: normal;">&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;">slave start;</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">这时</span>&nbsp;<wbr><span style="line-height: normal; font-size: 14pt;">再执行</span><span style="line-height: normal; font-size: 14pt;">show slave status\G</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">显示如下：</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">*************************** 1. row ***************************</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Slave_IO_State: Waiting for master to send event</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Master_Host: 192.168.1.222</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Master_User: repl</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Master_Port: 3306</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Connect_Retry: 60</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Master_Log_File: log.000003</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Read_Master_Log_Pos: 98</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Relay_Log_File: mysqld-relay-bin.000002</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Relay_Log_Pos: 229</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Relay_Master_Log_File: log.000003</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; color: red; font-size: 14pt;">Slave_IO_Running: Yes</span></span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; color: red;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; color: red; font-size: 14pt;">Slave_SQL_Running: Yes</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Replicate_Do_DB:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Replicate_Ignore_DB:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Replicate_Do_Table:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Replicate_Ignore_Table:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Replicate_Wild_Do_Table:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">Replicate_Wild_Ignore_Table:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Last_Errno: 0</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Last_Error:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Skip_Counter: 0</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Exec_Master_Log_Pos: 98</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Relay_Log_Space: 229</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Until_Condition: None</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Until_Log_File:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Until_Log_Pos: 0</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Master_SSL_Allowed: No</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Master_SSL_CA_File:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Master_SSL_CA_Path:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Master_SSL_Cert:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Master_SSL_Cipher:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Master_SSL_Key:</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal;"><span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">Seconds_Behind_Master: 0</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">1 row in set (0.00 sec)</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">显示红色那两行，说明配置成功。</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">五、<span style="line-height: normal; font-size: 14pt;">测试主从服务器是否能同步</span></span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">在主服务器上面新建一个表，必须在</span><span style="line-height: normal; font-size: 14pt;">repl</span><span style="line-height: normal; font-size: 14pt;">数据下</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">mysql&gt; use repl</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">Database changed</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">mysql&gt; create table test(id int,name char(10));</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">Query OK, 0 rows affected (0.00 sec)</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">mysql&gt; insert into test values(1,'zaq');</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">Query OK, 1 row affected (0.00 sec)</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">mysql&gt; insert into test values(1,'xsw');</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">Query OK, 1 row affected (0.00 sec)</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">mysql&gt; select * from test;</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">+------+------+</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">| id<span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">| name |</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">+-------+------+</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">|<span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">1 &nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;"> | zaq&nbsp;<wbr>&nbsp;<wbr><span style="line-height: normal;">&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">|</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">|<span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">1 &nbsp;<wbr>&nbsp;<wbr></span><span style="line-height: normal; font-size: 14pt;"> | xsw |</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">+-------+------+</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">2 rows in set (0.00 sec)</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">在从服务器查看是否同步过来</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">mysql&gt; use repl;</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">Database changed</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">mysql&gt; select * from test;</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">+------+------+</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">| id<span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">| name |</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">+------+------+</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">|<span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">1 | zaq<span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">|</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">|<span style="line-height: normal;">&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">1 | xsw<span style="line-height: normal;">&nbsp;<wbr></span></span><span style="line-height: normal; font-size: 14pt;">|</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">+------+------+</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">2 rows in set (0.00 sec)</span></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; font-size: 10px; margin: 0cm 0cm 0pt;"> &nbsp;<wbr></p> <p style="font-family: Georgia; line-height: 18px; margin: 0cm 0cm 0pt;"> <span style="line-height: normal; font-size: 14pt;">说明已经配置成功</span>
