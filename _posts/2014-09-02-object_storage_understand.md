---
layout: post
title: "对象存储Object Storage的理解"
categories: 分布式存储
tags: [ceph, dfs,存储]
date: 2014-09-02 09:44:32
---


亚马逊和Rackspace，都是使用Object Storage来存储东西，亚马逊的S3，就是对象存储。

 

我知道对象存储这个单词，估计不超过1个月。不过对亚马逊的那么低的收费标准，真的比较好奇，他是如何实现。

 

亚马逊的S3，好像基本没啥文档，不过幸好Rackspace进行的开源，我也就可以通过Rackspace的文档，了解对象存储。

 

当读到一些好的文档的时候，真的是有一种茅塞顿开的感觉，这篇文档就是，基本上解决了我的很多困惑。下面的内容，我只翻译我理解的。

http://adrianotto.com/2010/09/openstack-os-is-great-for/

 
1：对象存储是用来存什么东西，或者说那么用户使用对象存储

 

多媒体，音乐，图片

视频监控文件

电话录音文件

压缩log文件

备份文件，单个文件不能大于5G

操作系统的镜像

存储无限增长的文件

存储小于50k的小文件，这是他的强项，相比大文件来说

存储百万基本的文件

存储PB级别的数据

 

 
2：局限

 

这个比较关键，那么多优点，肯定有缺点，作为产品经理，如果不了解他有那么局限，估计也就完蛋。不过真的没有人告诉过我那些局限，我也是刚刚看到。

 

单个文件小于5G，

这个局限对于目前如果你希望存储高清视频就是一个大问题。目前亚马逊也是有这个限制的。

 

不是文件系统

简单说，你是不能mount到本地，进行格式化。不是一个文件系统，那么其实就有不少东西是做不了的。

 

没有用户配额

你会发现亚马逊的S3是没有容量限制，你想存多少就多少，根据存储量来收费。但是估计你没有想到，是因为技术条件，无法实现用户容量的限制。

 

没有目录的集成

大家保存文件，都是类似ldap，树形。不过对象存储，寻找文件是根据id。所以也就是说没有类似的目录。大家可以读原文理解。

 

无法增量更新文件

当你更新一个文件的时候，只能覆盖，不可能做到增量更新，比如修改了1k，就只更新1k。这是无法实现。当然如果希望保留多个版本，方法就很笨，只能保存两份，存储的空间是占用双倍。

 

一致性

这是一个大问题，你上传一个文件，马上进行下载，这是没问题，如果你更新一个文件，这个时候你马上进行下载，就很有可能下载的是旧的版本。

 

不是数据库

不是数据库，也就意味无法搜索。如果你希望搜索。那就要自己想办法。

 

不要指望当成文件系统使用

理论上是可以实现在对象存储上面建立一个文件系统，不过这种方式，没啥意义。

