---
layout: post
title: "C++ 下MongoDB使用"
categories: 数据库
tags: [mongodb]
date: 2014-09-30 12:14:48
---

C++ 下MongoDB使用:

增加字段
<pre>
{$set:{"字段":1}}
</pre>
删除字段

<pre>
{$unset:{"字段":1}}
</pre>

查询数组中的元素
<pre>
{"关键字":{$all:["位置","其他"]}}
</pre>

增加数组元素(重复的不会加)
<pre>
{"$addToSet":{"关键字":{"$each":["位置","其他"]}}}
</pre>


经纬度查询(经度在前,纬度在后)

从近到远排序
<pre>
{"经纬度":{"$near":[28.0988562,109.3167951]}}
</pre>

以座标为中心(经度,纬度,距离)
<pre>
{"地址信息.经纬度":{"$within":{"$center":[[28.0988562,109.3167951],0.1]}}}
</pre>
