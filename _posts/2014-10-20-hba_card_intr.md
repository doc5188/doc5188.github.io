---
layout: post
title: "HBA卡介绍"
categories: 存储
tags: [hba卡]
date: 2014-10-20 13:32:26
---

* HBA卡介绍

在讨论这个问题的时候，需要先说清楚一个问题：

我们知道，在早期的SAN存储系统中，服务器与交换机的数据传输是通过光纤进行的，因为服务器是把SCSI指令传输到存储设备上，不能走普通LAN网的IP协议，所以需要使用FC传输，因此这种SAN就叫FC-SAN，而后期出现了用IP协议封装的SAN，可以完全走普通LAN网络，因此叫做IP-SAN，其中最典型的就是现在热门的ISCSI。 


这两种方式都需要对数据块进行繁重的读包解包操作，因此高性能的SAN系统是需要在服务器上安装一块专门负责解包工作以减轻处理器负担的网卡，这种网卡大家就叫它HBA卡，它除了执行解包工作外当然还可以提供一个光纤接口（如果是iSCSI HBA卡就是提供普通的RJ45接口）以用于跟对应的交换机连接；

另外，HBA物理上你可以把它当作网卡一样插?CI或者PCI-E槽位里，因此这种设备的用法非常相一张网卡，很多人也就把它跟普通网卡或普通的光纤网卡混淆了。当然，有的iSCSI HBA卡就可以当作普通网卡来用，不过从价格上考虑这是非常奢侈的。　　

HBA的常规定义：就是连接主机I/O总线和计算机内存系统的I/O适配器。按照这个定义，像显卡就是连接视频总线和内存，网卡就是连接网络总线和内存，SCSI-FC卡就是连接SCSI或者FC总线和内存的，它们都应该算是HBA。

HBA卡有FC-HBA和iSCSI HBA将来还有其他HBA卡，但是，HBA通常用在SCSI。

Adapter(适配器)和NIC用于FC；而NIC也会用于以太网和令牌环网。　　

其实，网卡是大家常提到的一个类型设备的总称，是指安装在主机里，通过网络连接线（双绞线、光纤线缆、同轴电缆等）与网络交换机（以太网交换机、FC交换机、ISCSI交换机等）、或与其它网络设备（存储设备、服务器、工作站等）连接，从而形成一个网络的硬件设备。　　

那么，光纤网卡这个称呼到底是不是指光纤口HBA卡呢？　　实际上大家常说的光纤网卡指的就是光纤通道网络里的HBA卡。　　

因传输协议的不同的，网卡可分为三种，一是以太网卡，二是FC网卡，三是iSCSI网卡。 

?以太网卡：学名Ethernet Adapter,传输协议为IP协议,一般通过光纤线缆或双绞线与以太网交换机连接。接口类型分为光口和电口。光口一般都是通过光纤线缆来进行数据传输，接口模块一般为SFP（传输率2Gb/s）和GBIC（1Gb/s）,对应的接口为SC、ST和LC。

电口目前常用接口类型为RJ45,用来与双绞线连接，也有与同轴电缆连接的接口，不过现在已经用的比较少了。 

?FC网卡：一般也叫光纤网卡，学名Fibre Channel HBA。传输协议为光纤通道协议，一般通过光纤线缆与光纤通道交换机连接。接口类型分为光口和电口。光口一般都是通过光纤线缆来进行数据传输，接口模块一般为SFP（传输率2Gb/s）和GBIC（1Gb/s）,对应的接口为SC和LC。电口的接口类型一般为DB9针或HSSDC。 

?ISCSI网卡：学名ISCSI HBA，传输ISCSI协议，接口类型与以太网卡相同。　　

大家说的“光纤网卡”一般是指FC HBA卡，插在服务器上，外接存储用的光纤交换机；而光口的以太网卡一般都叫做“光纤以太网卡”，也是插在服务器上，不过它外接的是带光口的以太网交换机。　　

总结： 　　

其实这些网卡还是很好区分的，看下表就清楚了： ?HBA卡：FC-HBA卡（俗称：光纤网卡）、iSCSI-HBA卡（RJ45接口） ?以太网卡：光纤接口的以太网卡（俗称：光纤以太网卡）　　不过这些都是大家的俗语或常用语，有一定的使用环境。我们建议大家不要使用光纤网卡这个称呼，而是直接说成FC-HBA卡，这样就绝对不会造成误解了。 
